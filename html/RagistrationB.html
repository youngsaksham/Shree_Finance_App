<!DOCTYPE html>
<html>
	<head>  
		<link rel="stylesheet" href="../css/ChatApp.css">
		<title>Profile</title>
		<link rel="stylesheet" href="../css/myProfile2.css">
		<link rel="stylesheet" href="../css/AddBorrowerForm.css">
	</head>
	<a href="myProfileB.html"><button class="btn btn2">Back</button></a>  
	<center>
				<h1 class="rainbow">Profile Update</h1>
	<div class="wrapper">
	<div class="registration_form">
		
		<form>
			<div class="form_wrap">
				<div class="input_grp">
					<div class="input_wrap">
						<label for="fname">First Name</label>
						<input id="firstName" type="text" id="fname">
					</div>
					<div class="input_wrap">
						<label for="lname">Last Name</label>
						<input id="lastName" type="text" id="lname">
					</div>
				</div>
				<div class="input_wrap">
					<label for="email">Email Address</label>
					<input id="Email" type="text" id="email">
				</div>
				<div class="input_wrap">
					<label>Gender</label>
					<ul>
						<li>
							<label class="radio_wrap">
								<input type="radio" name="gender" value="male" class="input_radio" checked>
								<span>Male</span>
							</label>
						</li>
						<li>
							<label class="radio_wrap">
								<input type="radio" name="gender" value="female" class="input_radio">
								<span>Female</span>
							</label>
						</li>
					</ul>
				</div>
                
				<div class="input_wrap">
					<label for="city">City</label>
					<input id="city" type="text" >
				</div>
				<div class="input_wrap">
					<label for="country">Country</label>
					<input id="country" type="text">
				</div>
				<div class="input_wrap">
					<input id="insert" type="submit" value="Edit" class="submit_btn">
				</div>
			</div>
		</form>
	</div>
</div>
<body>
	<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-auth.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBqrojzrDw2ilF-tvngsSdqGEXpyZlNLUM",
    authDomain: "loanmanagmentsystem-ca528.firebaseapp.com",
    projectId: "loanmanagmentsystem-ca528",
    storageBucket: "loanmanagmentsystem-ca528.appspot.com",
    messagingSenderId: "873110986429",
    appId: "1:873110986429:web:0cacf8e6f88bcbf40ea1d4"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

var firstNameV;
var lastNameV;
var EmailV;
var cityV;
var countryV;
const dbRef = firebase.database().ref();

  function Ready(){
	firstNameV = document.getElementById("firstName").value;
	lastNameV = document.getElementById("lastName").value;
	EmailV = document.getElementById("Email").value;
	cityV = document.getElementById("city").value;
	countryV = document.getElementById("country").value;
}

	document.getElementById("insert").onclick = function(){
		Ready();
		firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.
 var userIdLocal = user.uid;
  } else {
    // No user is signed in.
  }
	const borrowerRef = dbRef.child('Investor/'+userIdLocal+'/MyDetails/');
	borrowerRef.set({
		firstName:firstNameV,
		lastName:lastNameV,
		Email:EmailV,
		city:cityV,
		country:countryV
	})	;
});
	}

	</script>
	</center>
</body>
</html>